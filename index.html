<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>index</title>
<style>
.wa-inline-btn{
  display:inline-flex;
  align-items:center;
  margin-left:12px;
  gap:6px;
  font-size:0.9rem;
  color:#9be7ff;
  text-decoration:none;
}
.wa-inline-btn img{
  width:25px;
  height:25px;
}
</style>
</head>
<body>

<!-- ORIGINAL CONTENT REMAINS SAME ABOVE -->

<script>
function getAdminWA(){
  return window.WHATSAPP_NUMBER || window.ADMIN_PHONE || window.ADMIN_WHATSAPP || '';
}
function buildWAURL(){
  if(!window.questions || typeof currentQuestionIndex === 'undefined') return '#';
  const q = questions[currentQuestionIndex];
  let msg =
    'ðŸ“Œ Quiz Doubt / Correction\n\n' +
    'Username: ' + (currentUser?.username || '') + '\n' +
    'Class: ' + (currentUser?.class || '') + '\n' +
    'Subject: ' + (selectedSubject || '') + '\n' +
    'Chapter: ' + (selectedTopic || '') + '\n\n' +
    'Question:\n' + q.question + '\n\n';
  q.options.forEach((o,i)=>msg+=String.fromCharCode(65+i)+'. '+o+'\n');
  msg+='\nCorrect Answer: '+q.correct+'\n\nUser Concern:';
  return 'https://wa.me/' + getAdminWA() + '?text=' + encodeURIComponent(msg);
}
const qt=document.getElementById('question-text');
if(qt){
  new MutationObserver(()=>{
    let a=qt.querySelector('.wa-inline-btn');
    if(a){a.href=buildWAURL();return;}
    a=document.createElement('a');
    a.className='wa-inline-btn';
    a.target='_blank';
    a.rel='noopener';
    a.href=buildWAURL();
    a.innerHTML='<img src="./whatsapp.png"><span>Ask admin</span>';
    qt.appendChild(a);
  }).observe(qt,{childList:true,subtree:true,characterData:true});
}
</script>

</body>
</html>
